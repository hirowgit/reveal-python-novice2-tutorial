# L4M1S1

## リスト内包表記の活用方法

ここでは、反復計算と配列を組み合わせたリスト内包表記（ List Comprehension ）の具体的な活用例を学びます（リスト内包表記の基本は、[L3M7S2](https://hirowgit.github.io/reveal-python-novice2-tutorial/lecture3.html#/6/3)を見てください）。

* まず、データ構造を考えます。データ構造とはある目的のために、情報の順序やまとまりに意味を持たせるものです。
* 例えば、受験者の番号とその試験の合格・不合格が対になったデータがあるとしましょう。
* 一つの単純な構造は、受験番号と合否がリストになった[3番, 合格]のような形です。これは[3, True]と書くことができます。
* これを繋げると[[1,False], [2,True], [3,False],...]のように[[1番,不合格], [2番,合格], [3番,不合格],...]という情報をデータ構造として定義できます。
* さて、受験番号だけを取り出すことを考えましょう。その場合、x=[1番,不合格]とすると、xから0番目の要素、つまりx[0]=1番を取り出すことで解決します。
* 同様に、合否だけを取り出すことにします。その場合、x=[1番,不合格]で、xから1番目の要素、つまりx[1]=不合格を取り出せます。
* 最後に、合格者の番号だけを取り出すことにします。その場合は、x[1]=合格のときだけ、x[0]をリストに残すことになります。つまり、List = [[1,False], [2,True], [3,False],...]に対して、[x[0] for x in List if x[1]]（もしx[1]がTrueのときに、x[0]をリストに入れてください）という構文です。

<1,1>
--

<1,2>

1. リスト型[1,2,3]に対し、適切なメソッドをつかって、削除して、空のリスト[ ]にします。

```text
#Level 1:
ans1 = [1,2,3]
ans1.???()
```

```python
ans1.clear()
```

--

<1,3>

2. リスト型['a','b','c']に対し、適切なメソッドをつかって、削除して、空のリスト[ ]にします。

```text
#Level 2:
ans2 = ['a','b','c']
ans2.???()
```

```python
ans2.clear()
```

--

<1,>

3. リスト型['a',1,[2,'b']]に対し、適切なメソッドをつかって、削除して、空のリスト[ ]にします。

```text
#Level 3:
ans3 = ['a',1,[2,'b']]
ans3.???()
```

```python
ans3.clear()
```


--

---

# L3M2S1

## リスト型における要素の部分削除

<2,1>
ここでは、リスト型の特定の場所に要素を削除する方法を学びます。

* リスト型には、.del メソッドがあり、要素番号（場所）を指定して、要素を削除することができます。
* ただし、**要素番号は、０から始まることに注意**してください。
* つまり、リストL=[1,2,3]が与えられた場合、2番目に、要素3を入れたい場合、del L[(2番目・要素3]、つまり、del L[2]と書き、リストLは[1,2]になります。
* 他には、del L[-1]と書くと、リストの最後に3番目を除くつもりでも、具体的には[1, 2, 3]となってしまいます。
* del は、数字でも、文字列でも指定の場所に、削除できることは変わりません。

1. [1,2,3]に対し、適切な場所と要素を指定して、[2, 3]にします。

```text
#Level 1:
ans1 = [1,2,3]
del ans1[?]
```

```python
del ans1[0]
```

--

<2,2>

2. [1,2,3]に対し、適切な場所と要素を指定して、[1, 3]にします。

```text
#Level 2:
ans2 = [1,2,3]
del ans2[?]
```

```python
del ans2[1]
```

--

<2,3>

3. [1,2,3]に対し、適切な場所と要素を指定して、[1, 2]にします。

```text
#Level 3:
ans3 = [1,2,3]
del ans3[?]
```

```python
del ans3[-1]
```

--

---

# L3M3S1

## リスト型の特定の場所の要素を抜き出す（削除）

<3,1>

ここでは、リスト型の特定の場所の要素を抜き出す（削除）方法を学びます。

* リスト型のメソッドでは、.pop()メソッドを使って、リストの特定の場所の中身を抜き出す（削除）ことができます。
* [4,5,6].pop() は、（最後の）要素6を抜き出し、リストを [4, 5] にします。
* [4,5,6].pop(-1) は、（最後の）要素6を抜き出し、リストを [4, 5] にします。
* [4,5,6].pop(0) は、（最初の）要素4を抜き出し、リストを [5, 6] にします。
* [4,5,6].pop(1) は、（2番目の）要素5を抜き出し、リストを [4, 6] にします。

1. [1,2,3]に対し、.popメソッドに適切な番号を与えて、[1, 3]にします。

```text
#Level 1:
ans1 = [1,2,3]
ans1.pop(?)
#ans1= [1, 3]
```

```python
ans1.pop(1)
```

--

<3,2>

2. [1,2,3]に対し、.popメソッドに適切な番号を与えて、削除して、[1, 2]にします。

```text
ans2 = [1,2,3]
ans2.pop(?)
#ans2= [1, 2]
```

```python
ans2.pop(-1)
```

--

<3,3>

3. [1,2,3]に対し、Level2とは別の方法で、.popメソッドに適切な内容を設定して、[1, 2]にします。

```text
#Level 3:
ans3 = [1,2,3]
ans3.pop(?)
#ans3= [1, 2]
```

```python
ans3.pop()
```

--

---

# L3M4S1

## 繰り返し（ループ）処理

<4,1>

ここでは、要素の1つずつ取り出して繰り返し処理（ループ）手法を学びます。

* リスト、文字列、数の範囲などに対して、1つずつ取り出して繰り返すことができます。
* 基本構文
  for (変数) in (繰り返す対象（リストなど）):
  	(実行するコード)
* 変数: 取り出された値が入る変数です。
* 繰り返す対象: リスト、文字列、rangeなどのイテラブル（**iterable**）です。
* : の後はインデントされたコードブロックで記述です。
* range()の括弧内に指定した数だけ繰り返して、加算の結果を出力することができます。

--
<4,2>

1. ans1 が4になるようにするには、ans1 にどの値(自然数)を入力すればよいかを考え、適切な値を ans1 に入力します。

```text
#Level 1:
ans1 = ?
for i in range(3): ans1 = ans1 + 1
#ans1= 4
```

```python
ans1 = 1
for i in range(3): ans1 = ans1 + 1
```

--

<4,3>

2. ans2 が5になるようにするには、ans2 にどの値(自然数)を入力すればよいかを考え、適切な値を ans2 に入力します。

```python
#Level 2:
ans2 = ?
for i in range(3):
    ans2 = ans2 + 1
#ans2= 5
```

```python
ans2 = 2
for i in range(3):
    ans2 = ans2 + 1
```

--

<4,4>

3. ans3 が6になるようにするには、ans3 にどの値(自然数)を入力すればよいかを考え、適切な値を ans3 に入力します。

```python
ans3 = ?
for i in range(3):
    ans3 += 3
#ans3= 6
```

```python
ans3 = 3
for i in range(3):
    ans3 += 3
```

--

# L3M4S2

## 繰り返し（ループ）への式の追加

<4,5>

ここでは、繰り返し処理（ループ）の中で計算を追加する手法を学びます。

* 前述の解説に加え、既存の変数とは異なる変数を用いた式を作成し、それを既存のfor文に追加して構築することも可能です。
* タプル（,）の方法で、初期値をa,b=2,3（a=2, b=3と同じ）と設定することもできます。

1. 「a=1」と設定してから、ループ内の式を「ans1  = ans1 + a」としたとき、ループの結果としてans1 が4になるようにするには、ans1 の初期値にどの値(自然数)を入力すればよいかを考え、適切な値を ans1 に入力します。

```python
ans1 = ?
a = 1
for i in range(3):
    ans1  = ans1 + a
#ans1 = 4
```

```python
ans1 = 1
```

--


2. 「b=1」として、ループ内の式を「ans1  = ans1 + a」「b = b + 1」としたとき、ループの結果としてans2 が8になるようにするには、ans2 の初期値にどの値(自然数)を入力すればよいかを考え、適切な値を ans2 に入力します。

```python
#Level 2:
ans2 = ?
b = 1
for i in range(3):
    ans2  = ans2 + b
    b = b + 1
#ans2 = 8
```

```python
ans2 = 2
```

--

3. Level2と同じ課題で、初期値設定の仕方を変えます。ans3 が8になるように、「ans3, b = ?, ?」のように設定するにはどうすればよいかを考え、適切な値を ans3 に入力しします。

```python
#Level 3:
ans3, b = ?, 1
for i in range(3):
    ans3  = ans3 + b
    b = b + 1
#ans3 = 8
```

```python
ans3, b = 2, 1
```

--

---

# L3M5S1

## 条件が成立した時だけ繰り返し（ループ）する（その１）


<5,1>

ここでは、条件が成立した時だけ繰り返し（ループ）する手法を学びます。

* 必ずしもイテラブル（**iterable**）を用意する必要はありません。
* 条件がTrue（真）である間、ループ内処理を繰り返し実行します。
* 条件がFalse（偽）になると、繰り返しを終了します。
* 基本構文
  while (条件式):
  	(実行するコード)
* 条件式: Trueなら繰り返し、Falseなら終了です。
* 条件がいずれ（必ず）Falseになるように書く必要があります。（無限ループ防止）
* : の後はインデント（１ブロックの隙間を開ける）されたコードブロックで記述です。

1. ans1 が7になるようにするには、ans1 にどの値(自然数)を入力すればよいかを考え、適切な値を ans1 に入力します。

```python
#Level 1:
ans1 = ?
while ans1 <= 6: ans1 = ans1 + 1
#ans1= 7
```

```python
ans1 = 1
```

--

<5,2>

2. ans2 が7になるようにするには、ans2 にどの値(自然数)を入力すればよいかを考え、適切な値を ans2 に入力します。

```python
#Level 2:
ans2 = ?
while ans2 <= 6:
    ans2 = ans2 + 1
#ans2= 7
```

```python
ans2 = 1
```

--

<5,3>

3. ans3 が7になるようにするには、ans3 にどの値(自然数)を入力すればよいかを考え、適切な値を ans3 に入力します。

```python
#Level 3:
ans3 = ?
while ans3 <= 6:
    ans3 += 1
#ans3= 7
```

```python
ans3 = 1
```


--
<5,4>

# L3M5S2

## 条件が成立した時だけ繰り返し（ループ）する（その２）

ここでは、条件が成立した時だけ繰り返し（ループ）する手法を学びます。

* 前述の解説に加え、既存の変数とは異なる変数を用いた式を作成し、それを既存のfor文に追加して構築することも可能です。

1. 先の課題を参考にして、ans1 が7になるようにするには、ans1 にどの値(自然数)を入力すればよいかを考え、適切な値を ans1 に入力します。

```python
#Level 1:
ans1, a = ?, 2
while ans1 <= 5:
    ans1  = ans1 + a
#ans1 = 7
```

```python
ans1, a = 1, 2
```

--

<5,5>

2. 先の課題を参考にして、ans2 が6になるようにするには、ans2 にどの値(自然数)を入力すればよいかを考え、適切な値を ans2 に入力します。

```python
#Level 2:
ans2, b = ?, 1
while ans2 <= 5:
    ans2  = ans2 + b
#ans1 = 6
```

```python
ans2, b = 2, 1
```

--

<5,6>

3. 先の課題を参考にして、ans3 が7になるようにするには、ans3 にどの値(自然数)を入力すればよいかを考え、適切な値を ans3 に入力します。

```python
#Level 3:
ans3, c = ?, 1
while ans3 <= 5:
    ans3  = ans3 + c
    c = c + 1
#ans3 = 7
```

```python
ans3, c = 1, 1
```


--
---

# L3M6S1

## リスト型とメソッド（appendとpopの違いを学ぶ）

<6,1>

ここでは、リスト型の異なるメソッドを使い分ける方法を確認します。

* リスト型では、+演算子を使って[1,2]+[3]=[1,2,3]のような結合方法とは別に、.appendメソッド（関数の一種）や.popメソッドを使ってリストを編集することができます。
* 関数には２種類あり、「abc（）」のように、()内に対象のオブジェクトを入れて計算処理する通常の関数と、「オブジェクト（object）の属性として参照される関数」として、object.abc()のように作用させる**メソッドと呼ばれる関数**があります。
* append（）の場合、()内に、要素でなく、リストを入れると、リストの中にリストが入る入れ子構造（階層リスト）ができることに注意します。
* したがって、階層リストにしたくない場合は、extend()メソッドを使うか、+演算子でリスト型を結合します。
* .pop()メソッドでは、リストの中身を取り出す（削除）することができます。

--

<6,2>

1. .appendメソッドを用いて[1]とaを結合し、[1,2]にします。

```python
#Level 1:
ans1=[1]
a = 2
ans1.?(a)
# ans1 = [1,2]
```

```python
ans1.append(a)
```

--
<6,3>

2. .popメソッドを用いて[1,2,3]に3を出し、[1,2]にします。

```python
#Level 2:
ans2=[1,2,3]
ans2.?()
# ans2= [1,2]
```

```python
ans2.pop()
```

--
<6,4>

3. .appendメソッドを用いて[1,2]と3を結合して、.popメソッドを用いて3を出し、[1,2]にします。

```python
#Level 3:
ans3=[1,2]
ans3.??(3)
ans3.??()
# ans3= [1,2]
```

```python
ans3.append(3)
ans3.pop()
```

--
# L3M6S2

## リスト型とメソッド（insertとpopの違いを学ぶ）

<6,5>

ここでは、リスト型の特定の場所に要素を挿入する方法を学びます。

* リスト型には、.insert()メソッドがあり、要素番号（場所）を指定して、要素を挿入することができます。
* ただし、**要素番号は、０から始まることに注意**してください。
* つまり、リストL=[1,2,3]が与えられた場合、０番目に、要素4を入れたい場合、L.insert(０番目、要素4）、つまり、L.insert(0,4)と書き、リストLは[4,1,2,3]になります。
* 他には、L.insert(-1,8)と書くと、リストの最後に８を入れるつもりでも、具体的には[1, 2, 8, 3]となってしまいます。
* そこで、L.insert(len(L),8)のように、Lの長さ（要素数）を計算する長さ関数len()を使いましょう。
* .insert()は、数字でも、文字列でも指定の場所に、挿入できることは変わりません。
* リスト型のメソッドでは、.pop()メソッドを使って、リストの中身を削除することができます。

--

<6,5>


1. [2]に対し、.insertメソッドを用いて、適切な場所と要素を指定して、[1, 2]にします。

```python
#Level 1:
ans1=[2]
a = 1
ans1.insert(?, a)
# ans1 = [1,2]
```

```python
ans1.insert(0, a)
```

--
<6,6>

2. [0,1,2]に対し、.popメソッドを用いて、適切な場所と要素を指定して、[1, 2]にします。

```python
#Level 2:
ans2=[0,1,2]
ans2.pop(?)
# ans2= [1,2]
```

```python
ans2.pop(0)
```

--
<6,7>

3. [1,2]に対し、.popと.insertメソッドを組み合わせて、適切な場所と要素を指定して、[1,2]にします。

```python
#Level 3:
ans3=[1,2]
ans3.??(0, 0)
ans3.??(0)
# ans3= [1,2]
```

```python
ans3.insert(0, 0)
ans3.pop(0)
```



--
---

# L3M7S1

## 繰り返し処理でのリスト型編集（forとappendの組み合わせから、リスト内包表記を理解する）

<7,1>

ここでは、繰り返し処理（ループ）とリスト編集の組み合わせ手法を学びます。

* リスト型は、特定の要素を追加したり、追加する場所を指定して編集することができます。
* for基本構文は以下のように書けました。
  for (変数) in (繰り返す対象): (実行するコード)
* この「変数」は、リストの要素として使うこともできますし、要素の **場所（位置）** としても使えます。

1. ans1 が[2,3,4]になるようにするには、appendメソッド内 にどのように値を入れればよいかを考え、適切な値を ans1 に入力します。

```python
#Level 1:
List = [1,2,3]
ans1 = []
for n in List:
  ans1.append(n+?)
# ans1 = [2,3,4]
```

```python
  ans1.append(n+1)
```

--
<7,2>

2. ans2 が[2,3,4]になるようにするには、+演算子にどのように値を入れればよいかを考え、適切な値を ans2 に入力します。

```python
#Level 2:
List = [1,2,3]
ans2 = []
for n in List:
  ans2=ans2+[n+?]
# ans2 = [2,3,4]
```

```python
  ans2=ans2+[n+1]
```

--
<7,3>

3. ans3 が[2,3,4]になるようにするには、リスト内包表記をどのように設計すればよいかを考え、適切な値を ans3 に入力します。

```python
#Level 3:
List = [1,2,3]
ans3 = [n+? for n in List]
# ans3 = [2,3,4]
```

```python
ans3 = [n+1 for n in List]
```


--


# L3M7S2

## リスト内包表記を習熟する

<7,4>

ここでは、反復計算と配列を組み合わせた処理のことリスト内包表記（ List Comprehension ）を学びます。

* 既存のリストや繰り返し可能なイテラブルオブジェクトから、新しいリストを簡潔かつ効率的に生成するための構文です。
* for文やif文を一行にまとめられるため、コードが短くなり、読みやすくなります。
* また、通常のforループより高速に動作する場合もあります。
* 基本構文
  [式 for 変数 in イテラブル]
* 式（expression）: リストに格納する値や計算式
* 変数（variable）: イテラブルから取り出された要素を受け取る変数
* イテラブル（iterable）: リスト、タプル、文字列、range() などの繰り返し可能なオブジェクト

--

<7,5>

1. ans1 が[20,30,40]になるように、リスト内包表記をどのように設計すればよいかを考え、適切な値を ans1 に入力します。

```python
#Level 1:
List = [2,3,4]
ans1 = [n*? for n in List]
# ans1 = [20,30,40]
```

```python
ans1 = [n*10 for n in List]

```

--
<7,6>

2. ans2 が[20,30,40]になるように、条件文をどのように設計すればよいかを考え、適切な値を ans2 に入力します。

```python
#Level 2:
List = [20,30,40,50]
ans2 = []
for n in List:
  if n< ?:
    ans2.append(n)
# ans2 = [20,30,40]
```

```python
for n in List:
  if n< 50:
    ans2.append(n)
```

--
<7,8>

3. ans3 が[20,30,40]になるように、条件文とリスト内包表記をどう組み合わせるとよいかを考え、適切な値を ans3 に入力します。

```python
#Level 3:
List = [20,30,40,50]
ans3 = [n for n in List if n<?]
# ans3 = [20,30,40]
```

```python
ans3 = [n for n in List if n<50]

```

--

--

---
